# Code Extractor - æ™ºèƒ½é¡¹ç›®ä»£ç æå–å·¥å…·

**Code Extractor** æ˜¯ä¸€ä¸ªåŸºäº Node.js å¼€å‘çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæ—¨åœ¨å°†å¤æ‚çš„é¡¹ç›®ç›®å½•ç»“æ„å’Œæ ¸å¿ƒä»£ç å†…å®¹â€œæ‰å¹³åŒ–â€è¾“å‡ºä¸ºä¸€ä¸ªå•ä¸€çš„æ–‡æœ¬æ–‡ä»¶ (`.txt`)ã€‚

è¯¥å·¥å…·ä¸»è¦ç”¨äº**æ•´ç†é¡¹ç›®ä¸Šä¸‹æ–‡**ï¼Œæ–¹ä¾¿å¼€å‘è€…å°†æ•´ä¸ªé¡¹ç›®çš„æ ¸å¿ƒé€»è¾‘ä¸€æ¬¡æ€§æŠ•å–‚ç»™ ChatGPTã€Claude ç­‰å¤§è¯­è¨€æ¨¡å‹ (LLM) è¿›è¡Œä»£ç åˆ†æã€é‡æ„æˆ–æ–‡æ¡£ç¼–å†™ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

*   **ğŸ§  æ™ºèƒ½ç±»å‹æ¨æ–­**ï¼šæ ¹æ®æ–‡ä»¶ç‰¹å¾ï¼ˆå¦‚ `package.json` ä¾èµ–ã€ç‰¹å®šé…ç½®æ–‡ä»¶ï¼‰è‡ªåŠ¨è¯†åˆ«é¡¹ç›®ç±»å‹ï¼Œå¹¶åº”ç”¨ç‰¹å®šçš„æ‰«æç­–ç•¥ã€‚
*   **ğŸŒ³ ç›®å½•æ ‘ç”Ÿæˆ**ï¼šç”Ÿæˆæ¸…æ™°çš„ç›®å½•ç»“æ„æ ‘ã€‚é’ˆå¯¹åŒ…å«å¤§é‡æ–‡ä»¶çš„æ–‡ä»¶å¤¹ï¼ˆå¦‚ >100 ä¸ªï¼‰ï¼Œè‡ªåŠ¨è¿›è¡ŒæŠ˜å å¤„ç†ï¼Œé¿å…è¾“å‡ºå†—ä½™ä¿¡æ¯ã€‚
*   **ğŸ“„ æ™ºèƒ½å†…å®¹æå–**ï¼š
    *   è‡ªåŠ¨å¿½ç•¥ `.gitignore` ä¸­çš„æ–‡ä»¶ä»¥åŠ `node_modules`, `dist` ç­‰æ— æ„ä¹‰ç›®å½•ã€‚
    *   **å¤§æ–‡ä»¶å¤„ç†**ï¼šè¶…è¿‡ 100KB çš„æ–‡ä»¶è‡ªåŠ¨æˆªæ–­ï¼ˆä¿ç•™é¦–å°¾å„ 5KBï¼‰ã€‚
    *   **JSON ç»“æ„åŒ–è£å‰ª**ï¼šé’ˆå¯¹è¶…å¤§ JSON/é…ç½®æ•°æ®ï¼Œä¿ç•™å…¶å±‚çº§ç»“æ„ï¼Œä½†è‡ªåŠ¨è£å‰ªè¿‡é•¿çš„æ•°ç»„ï¼ˆ>3é¡¹ï¼‰å’Œå¯¹è±¡å±æ€§ï¼Œå¤§å¹…èŠ‚çœ Tokenã€‚
    *   **äºŒè¿›åˆ¶è¿‡æ»¤**ï¼šè‡ªåŠ¨è·³è¿‡å›¾ç‰‡ã€ç¼–è¯‘äº§ç‰©ç­‰äºŒè¿›åˆ¶æ–‡ä»¶ã€‚
    *   **ğŸ–¼ï¸ åª’ä½“èµ„æºæ•´ç†**ï¼šè‡ªåŠ¨è¯†åˆ«é¡¹ç›®ä¸­çš„å›¾ç‰‡ã€éŸ³é¢‘å’Œè§†é¢‘æ–‡ä»¶ã€‚
        *   æ”¶é›†å›¾ç‰‡å°ºå¯¸ï¼ˆå®½xé«˜ï¼‰å’Œæ–‡ä»¶å¤§å°ã€‚
        *   æ”¶é›†éŸ³è§†é¢‘æ–‡ä»¶å¤§å°ã€‚
        *   æ™ºèƒ½å±•ç¤ºï¼šå•ç›®å½•åª’ä½“æ–‡ä»¶è¶…è¿‡ 200 é¡¹æ—¶ï¼Œè‡ªåŠ¨æŒ‰ä½“ç§¯æ’åºå¹¶ä»…å±•ç¤ºå‰ 200 é¡¹ã€‚
*   **äº¤äº’å¼ç¡®è®¤**ï¼šè‡ªåŠ¨åˆ¤æ–­åæä¾›ç”¨æˆ·ç¡®è®¤ç¯èŠ‚ï¼Œæ”¯æŒæ‰‹åŠ¨ä¿®æ­£é¡¹ç›®ç±»å‹ã€‚

## ğŸš€ æ”¯æŒçš„é¡¹ç›®ç±»å‹

ç›®å‰æ”¯æŒçš„è‡ªåŠ¨è¯†åˆ«ç±»å‹å¦‚ä¸‹ï¼š

| é¡¹ç›®ç±»å‹ | å…³é”®è¯/ç‰¹å¾ | çŠ¶æ€ | å¤‡æ³¨ |
| :--- | :--- | :--- | :--- |
| **Vue** | `vue`, `nuxt` | âœ… å·²æ”¯æŒ | è‡ªåŠ¨å¿½ç•¥ `.nuxt`, `dist` |
| **React** | `react`, `next` | âœ… å·²æ”¯æŒ | è‡ªåŠ¨å¿½ç•¥ `.next`, `build` |
| **Electron** | `electron` | âœ… å·²æ”¯æŒ | ä¼˜å…ˆè¯†åˆ«ï¼Œæ”¯æŒåŒ…è£¹ Web æ¡†æ¶ |
| **Flutter** | `pubspec.yaml` | âœ… å·²æ”¯æŒ | è‡ªåŠ¨å¿½ç•¥ `.dart_tool` |
| **Node.js** | åç«¯æ¡†æ¶ (`express`, `koa` ç­‰) | âœ… å·²æ”¯æŒ | åŒºåˆ†çº¯åç«¯ä¸é€šç”¨ Web |
| **Generic Web** | `index.html`, å‰ç«¯æ„å»ºå·¥å…· | âœ… å·²æ”¯æŒ | å…œåº•ç­–ç•¥ |
| **Android** | `build.gradle`, `AndroidManifest` | ğŸš§ **å¾…å¼€å‘** | ä»…å ä½ï¼Œå°šæœªå®ç°å…·ä½“ç­–ç•¥ |
| **iOS** | `.xcodeproj` | ğŸš§ **å¾…å¼€å‘** | ä»…å ä½ï¼Œå°šæœªå®ç°å…·ä½“ç­–ç•¥ |

> **æ³¨æ„**ï¼šAndroid å’Œ iOS æ¨¡å—ç›®å‰å°šæœªç¼–å†™å…·ä½“é€»è¾‘ï¼Œé€‰æ‹©è¿™äº›ç±»å‹å°†ä½¿ç”¨é»˜è®¤çš„åŸºç¡€ç­–ç•¥ï¼ˆBaseStrategyï¼‰è¿›è¡Œæ‰«æã€‚

## ğŸ›  ç¯å¢ƒè¦æ±‚

*   **Node.js**: v22.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
*   **ç³»ç»Ÿ**: macOS / Linux / Windows

## ğŸ“¦ å®‰è£…ä¸ä½¿ç”¨

### 1. å®‰è£…ä¾èµ–

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼š

```bash
npm install
```

### 2. è¿è¡Œå·¥å…·

ä½¿ç”¨ `node` ç›´æ¥è¿è¡Œ CLI å…¥å£æ–‡ä»¶ï¼Œåè·Ÿç›®æ ‡é¡¹ç›®è·¯å¾„ï¼š

```bash
# åŸºæœ¬ç”¨æ³•
node bin/cli.js /path/to/your/project

# ç¤ºä¾‹ï¼šæ‰«æå½“å‰ç›®å½•ä¸‹çš„ demo é¡¹ç›®
node bin/cli.js ./my-demo-project
```

### 3. å…¨å±€é“¾æ¥ (å¯é€‰)

å¦‚æœä½ å¸Œæœ›åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ `code-extractor` å‘½ä»¤ï¼š

```bash
npm link
```

ç„¶åå°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š

```bash
code-extractor /path/to/target
```

## ğŸ“‚ è¾“å‡ºç»“æœ

æ‰«æå®Œæˆåï¼Œç»“æœå°†ä¿å­˜åœ¨å½“å‰ç›®å½•çš„ `output/` æ–‡ä»¶å¤¹ä¸‹ï¼Œå‘½åæ ¼å¼ä¸ºï¼š
`é¡¹ç›®å-é¡¹ç›®ç±»å‹-ä¸Šçº§ç›®å½•å.txt`

**è¾“å‡ºæ–‡ä»¶ç¤ºä¾‹ï¼š**

```text
================================================================================
é¡¹ç›®æ‰«ææŠ¥å‘Š
================================================================================
é¡¹ç›®åç§°: my-app
é¡¹ç›®ç±»å‹: vue
ç”Ÿæˆæ—¶é—´: 2025-11-21 15:30:00

================================================================================
ç›®å½•ç»“æ„æ ‘
================================================================================
/
â”œâ”€â”€ package.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ App.vue
â”‚   â”œâ”€â”€ main.js
â”‚   â””â”€â”€ components/ (å…± 150 é¡¹ï¼Œä»…æ˜¾ç¤ºå‰ 3 é¡¹)
â”‚       â”œâ”€â”€ Header.vue
â”‚       â”œâ”€â”€ Footer.vue
â”‚       â”œâ”€â”€ Sidebar.vue
â”‚       â””â”€â”€ ... (å‰©ä½™ 147 é¡¹å·²çœç•¥)
104: 
105: ================================================================================
106: åª’ä½“èµ„æºç»Ÿè®¡
107: ================================================================================
108: 
109: ----------- [åª’ä½“èµ„æº] src/assets/images -----------
110: å…± 2 é¡¹åª’ä½“èµ„æº
111: 
112: 1. [Image] logo.png - 15.2 KB (å°ºå¯¸: 200x200)
113: 2. [Image] banner.jpg - 120.5 KB (å°ºå¯¸: 1920x600)

================================================================================
æ–‡ä»¶å†…å®¹è¯¦æƒ…
================================================================================

----------- [æ–‡ä»¶] src/main.js -----------
import { createApp } from 'vue'
import App from './App.vue'
createApp(App).mount('#app')

----------- [æ–‡ä»¶] data/large-config.json (å·²ç»“æ„åŒ–è£å‰ª) -----------
/* [å¤§æ–‡ä»¶å¤„ç†] æ£€æµ‹åˆ°ç»“æ„åŒ– JSON ... */
{
  "items": [
    { "id": 1 },
    { "id": 2 },
    { "id": 3 },
    "... (å…± 5000 é¡¹ï¼Œå‰©ä½™ 4997 é¡¹å·²çœç•¥)"
  ]
}
```

## ğŸ— äºŒæ¬¡å¼€å‘æŒ‡å—

æœ¬é¡¹ç›®é‡‡ç”¨**ç­–ç•¥æ¨¡å¼ (Strategy Pattern)** æ„å»ºï¼Œæ˜“äºæ‰©å±•æ–°çš„é¡¹ç›®ç±»å‹ã€‚

### ç›®å½•ç»“æ„

```text
src/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ Detector.js    # è´Ÿè´£åˆ¤æ–­é¡¹ç›®ç±»å‹
â”‚   â”œâ”€â”€ Scanner.js     # è´Ÿè´£éå†ç›®å½•å’Œç”Ÿæˆæ ‘
â”‚   â””â”€â”€ Processor.js   # è´Ÿè´£æ–‡ä»¶å†…å®¹çš„è¯»å–ä¸è£å‰ª
â”œâ”€â”€ strategies/        # æ‰€æœ‰ç­–ç•¥æ¨¡å—
â”‚   â”œâ”€â”€ BaseStrategy.js    # åŸºç±»
â”‚   â”œâ”€â”€ VueStrategy.js     # å…·ä½“å®ç°
â”‚   â””â”€â”€ ...
â””â”€â”€ index.js           # é€»è¾‘å…¥å£
bin/
â””â”€â”€ cli.js             # å‘½ä»¤è¡Œå…¥å£
```

### å¦‚ä½•æ·»åŠ æ–°ç±»å‹ï¼ˆä¾‹å¦‚ Python Flaskï¼‰

1.  åœ¨ `src/strategies/` ä¸‹åˆ›å»º `FlaskStrategy.js`ã€‚
2.  ç»§æ‰¿ `BaseStrategy`ï¼Œå®ç° `match` æ–¹æ³•ï¼ˆæ£€æµ‹ `app.py` æˆ– `requirements.txt`ï¼‰å’Œ `getIgnoreList` æ–¹æ³•ã€‚
3.  åœ¨ `src/core/Detector.js` ä¸­å¼•å…¥å¹¶æ³¨å†Œè¯¥ç­–ç•¥å³å¯ã€‚

### TODO

- [ ] å®ç° `AndroidStrategy.js` (æ‰«æ `src/main/java`, `res` ç­‰é‡ç‚¹ç›®å½•)ã€‚
- [ ] å®ç° `IosStrategy.js` (é‡ç‚¹æ‰«æ `.swift`, `.m` æ–‡ä»¶)ã€‚